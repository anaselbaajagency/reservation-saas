name: 📊 Generate Project Report

on:
  workflow_dispatch:  # You can trigger it manually

jobs:
  generate-report:
    runs-on: ubuntu-latest

    steps:
    - name: 📥 Checkout repository
      uses: actions/checkout@v3

    - name: 📝 Create report.md file
      run: |
        echo "# 📊 Project Report" > report.md
        echo "## 📁 Repository: ${{ github.repository }}" >> report.md
        echo "## 👤 Author: ${{ github.actor }}" >> report.md
        echo "## 🗓 Date: $(date)" >> report.md

        echo "## 🔁 Last 10 Git Commits:" >> report.md
        git log --pretty=format:"- %h %an %s (%cr)" -n 10 >> report.md

    - name: 🧾 Commit report to repository
      run: |
        git config --global user.name "github-actions[bot]"
        git config --global user.email "github-actions[bot]@users.noreply.github.com"
        git add report.md
        git commit -m "📊 Add auto-generated project report"
        git push
